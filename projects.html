<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Projects | Shreya Vontela</title>
  <link rel="stylesheet" href="assets/style.css" />
</head>
<body>
  <nav>
    <a href="index.html">Home</a>
    <a href="about.html">About</a>
    <a href="projects.html" class="active">Projects</a>
    <a href="experience.html">Experience</a>
    <a href="contact.html">Contact</a>
    <a href="resume.html">Resume</a>
  </nav>

  <main>
    <!-- GRID -->
    <div id="projects-grid" class="projects-grid"></div>
  </main>

  <footer>
    Â© 2025 Shreya Vontela â€” All rights reserved.
  </footer>

  <script>
  function badge(label){
    const s = document.createElement('span');
    s.className = 'tech-badge';
    s.textContent = label;
    return s;
  }
  function card(p){
    const el = document.createElement('article');
    el.className = 'p-card';

    if (p.image){
      const img = document.createElement('img');
      img.src = p.image;
      img.alt = p.title;
      img.loading = 'lazy';
      img.onerror = () => img.remove();
      el.appendChild(img);
    }

    const h3 = document.createElement('h3'); h3.textContent = p.title; el.appendChild(h3);

    const sub = document.createElement('p'); sub.className = 'p-sub';
    sub.textContent = p.summary || ''; el.appendChild(sub);

    if (p.tech?.length){
      const wrap = document.createElement('div'); wrap.className = 'tech-wrap';
      p.tech.forEach(t => wrap.appendChild(badge(t)));
      el.appendChild(wrap);
    }

    const links = document.createElement('div'); links.className = 'p-links';
    if (p.link){ const a = document.createElement('a'); a.href = p.link; a.target='_blank'; a.className='link'; a.textContent='ðŸ”— GitHub'; links.appendChild(a); }
    if (p.demo){ const b = document.createElement('a'); b.href = p.demo; b.target='_blank'; b.className='link'; b.textContent='â—· Demo'; links.appendChild(b); }
    el.appendChild(links);

    return el;
  }
  function section(title, projects){
    const sec = document.createElement('section');
    sec.className = 'proj-section';

    const h2 = document.createElement('h2');
    h2.className = 'proj-heading';
    h2.textContent = title;
    sec.appendChild(h2);

    const grid = document.createElement('div');
    grid.className = 'projects-grid';
    projects.forEach(p => grid.appendChild(card(p)));
    sec.appendChild(grid);

    return sec;
  }

  const root = document.getElementById('projects-grid');

  fetch('assets/data/projects.json')
    .then(r => {
      if (!r.ok) throw new Error('Projects JSON not found: ' + r.status);
      return r.json();
    })
    .then(data => {
      const list = data.projects || [];

      // group by category
      const groups = {};
      list.forEach(p => {
        const key = p.category || 'Other';
        (groups[key] ||= []).push(p);
      });

      // order sections
      const order = ['Gen AI','Agentic AI','ML Modeling','NLP','Quant Finance','Analytics / BI','Other'];
      const keys = [...Object.keys(groups)].sort((a,b) => {
        const ia = order.indexOf(a), ib = order.indexOf(b);
        if (ia === -1 && ib === -1) return a.localeCompare(b);
        if (ia === -1) return 1;
        if (ib === -1) return -1;
        return ia - ib;
      });

      // clear root and remove its grid class (since it will contain multiple sections)
      root.innerHTML = '';
      root.classList.remove('projects-grid');

      keys.forEach(k => root.appendChild(section(k, groups[k])));
    })
    .catch(err => {
      console.error('Projects load failed:', err);
      root.innerHTML = '<p style="color:#b91c1c">Failed to load projects.</p>';
    });
</script>


</body>
</html>
