<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Projects | Shreya Vontela</title>
  <link rel="stylesheet" href="assets/style.css">
</head>
<body>
  <!-- NAV -->
  <nav>
    <a href="index.html">Home</a>
    <a href="about.html">About</a>
    <a href="projects.html" class="active">Projects</a>
    <a href="experience.html">Experience</a>
    <a href="contact.html">Contact</a>
    <a href="resume.html">Resume</a>
  </nav>

  <main>
    <h1>Projects</h1>
    <div id="projects-container"></div>
  </main>

  <script>
    const container = document.getElementById("projects-container");

    function createProjectBlock(p) {
      const block = document.createElement("div");
      block.className = "project-block";

      const title = document.createElement("h2");
      title.textContent = p.title;

      const desc = document.createElement("p");
      desc.className = "desc";
      desc.textContent = p.description;

      const highlights = document.createElement("ul");
      (p.highlights || []).forEach(h => {
        const li = document.createElement("li");
        li.textContent = h;
        highlights.appendChild(li);
      });

      const tech = document.createElement("div");
      tech.className = "tech";
      tech.textContent = "Tech Stack: " + (p.tech || []).join(" Â· ");

      const link = p.link ? document.createElement("a") : null;
      if (link) {
        link.href = p.link;
        link.className = "link";
        link.target = "_blank";
        link.textContent = "ðŸ”— View on GitHub";
      }

      block.appendChild(title);
      block.appendChild(desc);
      if (highlights.childNodes.length) block.appendChild(highlights);
      block.appendChild(tech);
      if (link) block.appendChild(link);

      return block;
    }

    fetch("assets/data/projects.json")
      .then(r => r.json())
      .then(data => {
        (data.projects || []).forEach(p => {
          const block = createProjectBlock(p);
          container.appendChild(block);
          observer.observe(block);
        });
      });

    // fade-in animation
    const observer = new IntersectionObserver((entries) => {
      entries.forEach(e => {
        if (e.isIntersecting) e.target.classList.add("revealed");
      });
    }, { threshold: 0.15 });
  </script>
</body>
</html>
